\section{IGMP}

% Short description/overview of module functions
This module allows the user to join and leave IGMP multicast groups. Currently only IGMP2 is supported.


\subsection{pico\_igmp2\_join\_group}

\subsubsection*{Description}
Join an IGMP2 multicast group.

\subsubsection*{Function prototype}
\begin{verbatim}
int pico_igmp2_join_group(struct pico_ip4 *group_address,
struct pico_ipv4_link *link);
\end{verbatim}

\subsubsection*{Parameters}
\begin{itemize}[noitemsep]
\item \texttt{group\_address} - the address of the multicast group you want to join.
\item \texttt{link} - the link on which that multicast group should be joined.
\end{itemize}

\subsubsection*{Return value}
On success, this call returns 0.
On error, a value different from 0 is returned.
Attempting to join a group which was already joined before is considered a failure in this context.

\subsubsection*{Errors}
In most cases the return value is an OR operation of all return values obtained in a function,
therefore the error code could be a masked version of multiple separate errors.

\begin{itemize}[noitemsep]
\item \texttt{PICO$\_$IGMP2$\_$ERR$\_$RB$\_$REMOVE}          - Red black tree remove failed 
\item \texttt{PICO$\_$IGMP2$\_$ERR$\_$STRUCT$\_$UNAVAILABLE} - Struct pointer unavailable 
\item \texttt{PICO$\_$IGMP2$\_$ERR$\_$UNKOWN$\_$PARAM}       - Unknown parameter value 
\item \texttt{PICO$\_$IGMP2$\_$ERR$\_$WRONG$\_$CHECKSUM}     - Wrong checksum  
\item \texttt{PICO$\_$IGMP2$\_$ERR$\_$ACTION1$\_$FAILED}     - Leave group failed as delaying member
\item \texttt{PICO$\_$IGMP2$\_$ERR$\_$ACTION2$\_$FAILED}     - Join group failed as non member
\item \texttt{PICO$\_$IGMP2$\_$ERR$\_$ACTION3$\_$FAILED}     - Leave group failed as idle member 
\item \texttt{PICO$\_$IGMP2$\_$ERR$\_$ACTION4$\_$FAILED}     - Query received failed as idle member
\item \texttt{PICO$\_$IGMP2$\_$ERR$\_$ACTION5$\_$FAILED}     - Report received failed as delaying member
\item \texttt{PICO$\_$IGMP2$\_$ERR$\_$ACTION6$\_$FAILED}     - Timer expired failed as delaying member
\item \texttt{PICO$\_$IGMP2$\_$ERR$\_$ACTION7$\_$FAILED}     - Query received failed as delaying member
\item \texttt{PICO$\_$IGMP2$\_$ERR$\_$UNCONN$\_$GROUP}       - Try to leave an unconnected group
\item \texttt{PICO$\_$IGMP2$\_$ERR$\_$GROUP$\_$CONNECTED}    - Try to join a connected group 
\end{itemize}

%\subsubsection*{Example}


\subsection{pico\_igmp2\_leave\_group}

\subsubsection*{Description}
leave an IGMP2 multicast group.

\subsubsection*{Function prototype}
\texttt{int pico\_igmp2\_leave\_group(struct pico\_ip4 *group\_address, struct pico\_ipv4\_link *link);}

\subsubsection*{Parameters}
\begin{itemize}[noitemsep]
\item \texttt{group\_address} - the address of the multicast group you want to leave.
\item \texttt{link} - the link on which that multicast group should be left.
\end{itemize}

\subsubsection*{Return value}
In case of success, 0. In case of failure, a value different from 0. Attempting to leave a group
which was never joined is considered a failure in this context. 

%\subsubsection*{Errors}

%\subsubsection*{Example}